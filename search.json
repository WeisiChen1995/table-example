[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Exploring the R gtsummary Package to Create Professional-Quality Descriptive Tables for Academic Publications",
    "section": "",
    "text": "Install and read in R packages needed\n\nlibrary(NHANES)\nlibrary(gtsummary)\nlibrary(gt)\nlibrary(dplyr)\n\n\n\nRead in the demo data\n\ndata &lt;- NHANES::NHANES\n\n\n\nExample basic table\n\ndata %&gt;%\n    # Remove missing data in the Diabetes variable for simplicity\n    filter(!is.na(Diabetes)) %&gt;%\n    # Select relevant variables\n    select(Gender, Age, AgeDecade, Race1, BMI_WHO, Education, MaritalStatus, HHIncome, Work, Diabetes) %&gt;%\n    # Create a summary table by Diabetes group\n    tbl_summary(\n        by = Diabetes, \n        statistic = list(\n            all_continuous() ~ \"{mean} ({sd})\", \n            all_categorical() ~ \"{n} ({p}%)\"\n        ),\n        label = list(\n          AgeDecade = \"Age group\",\n          Race1 = \"Ethnicity\",\n          BMI_WHO = \"BMI group\",\n          HHIncome = \"Household income\",\n          Work = \"Employment status\"\n        )\n    ) %&gt;%\n    add_overall() %&gt;%\n    add_p() %&gt;%  # Test for differences between groups\n    bold_labels() %&gt;%\n    modify_header(label = \"**Characteristic**\") %&gt;%  # Update column header\n    as_gt() %&gt;%\n    gt::tab_header(\n        \"Table 1: Sociodemographic Characteristics of Patients With and Without Diabetes in the Demo Dataset.\"\n    )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 1: Sociodemographic Characteristics of Patients With and Without Diabetes in the Demo Dataset.\n\n\nCharacteristic\nOverall N = 9,8581\nNo N = 9,0981\nYes N = 7601\np-value2\n\n\n\n\nGender\n\n\n\n\n\n\n0.064\n\n\n    female\n4,949 (50%)\n4,592 (50%)\n357 (47%)\n\n\n\n\n    male\n4,909 (50%)\n4,506 (50%)\n403 (53%)\n\n\n\n\nAge\n37 (22)\n35 (22)\n59 (15)\n&lt;0.001\n\n\nAge group\n\n\n\n\n\n\n&lt;0.001\n\n\n     0-9\n1,254 (13%)\n1,254 (14%)\n0 (0%)\n\n\n\n\n     10-19\n1,371 (14%)\n1,354 (15%)\n17 (2.5%)\n\n\n\n\n     20-29\n1,356 (14%)\n1,344 (15%)\n12 (1.7%)\n\n\n\n\n     30-39\n1,338 (14%)\n1,295 (15%)\n43 (6.2%)\n\n\n\n\n     40-49\n1,398 (15%)\n1,302 (15%)\n96 (14%)\n\n\n\n\n     50-59\n1,304 (14%)\n1,126 (13%)\n178 (26%)\n\n\n\n\n     60-69\n917 (9.6%)\n713 (8.1%)\n204 (30%)\n\n\n\n\n     70+\n587 (6.2%)\n447 (5.1%)\n140 (20%)\n\n\n\n\n    Unknown\n333\n263\n70\n\n\n\n\nEthnicity\n\n\n\n\n\n\n&lt;0.001\n\n\n    Black\n1,184 (12%)\n1,053 (12%)\n131 (17%)\n\n\n\n\n    Hispanic\n602 (6.1%)\n555 (6.1%)\n47 (6.2%)\n\n\n\n\n    Mexican\n991 (10%)\n925 (10%)\n66 (8.7%)\n\n\n\n\n    White\n6,290 (64%)\n5,840 (64%)\n450 (59%)\n\n\n\n\n    Other\n791 (8.0%)\n725 (8.0%)\n66 (8.7%)\n\n\n\n\nBMI group\n\n\n\n\n\n\n&lt;0.001\n\n\n    12.0_18.5\n1,277 (13%)\n1,274 (14%)\n3 (0.4%)\n\n\n\n\n    18.5_to_24.9\n2,908 (30%)\n2,797 (32%)\n111 (15%)\n\n\n\n\n    25.0_to_29.9\n2,664 (28%)\n2,461 (28%)\n203 (27%)\n\n\n\n\n    30.0_plus\n2,749 (29%)\n2,321 (26%)\n428 (57%)\n\n\n\n\n    Unknown\n260\n245\n15\n\n\n\n\nEducation\n\n\n\n\n\n\n&lt;0.001\n\n\n    8th Grade\n451 (6.2%)\n351 (5.4%)\n100 (13%)\n\n\n\n\n    9 - 11th Grade\n886 (12%)\n781 (12%)\n105 (14%)\n\n\n\n\n    High School\n1,517 (21%)\n1,352 (21%)\n165 (22%)\n\n\n\n\n    Some College\n2,267 (31%)\n2,039 (31%)\n228 (31%)\n\n\n\n\n    College Grad\n2,098 (29%)\n1,954 (30%)\n144 (19%)\n\n\n\n\n    Unknown\n2,639\n2,621\n18\n\n\n\n\nMaritalStatus\n\n\n\n\n\n\n&lt;0.001\n\n\n    Divorced\n705 (9.8%)\n605 (9.3%)\n100 (13%)\n\n\n\n\n    LivePartner\n560 (7.7%)\n531 (8.2%)\n29 (3.9%)\n\n\n\n\n    Married\n3,945 (55%)\n3,519 (54%)\n426 (57%)\n\n\n\n\n    NeverMarried\n1,380 (19%)\n1,313 (20%)\n67 (9.0%)\n\n\n\n\n    Separated\n183 (2.5%)\n159 (2.5%)\n24 (3.2%)\n\n\n\n\n    Widowed\n456 (6.3%)\n361 (5.6%)\n95 (13%)\n\n\n\n\n    Unknown\n2,629\n2,610\n19\n\n\n\n\nHousehold income\n\n\n\n\n\n\n&lt;0.001\n\n\n     0-4999\n182 (2.0%)\n169 (2.0%)\n13 (1.9%)\n\n\n\n\n     5000-9999\n250 (2.8%)\n223 (2.7%)\n27 (3.9%)\n\n\n\n\n    10000-14999\n537 (5.9%)\n472 (5.6%)\n65 (9.3%)\n\n\n\n\n    15000-19999\n515 (5.7%)\n461 (5.5%)\n54 (7.8%)\n\n\n\n\n    20000-24999\n605 (6.7%)\n546 (6.5%)\n59 (8.5%)\n\n\n\n\n    25000-34999\n945 (10%)\n865 (10%)\n80 (11%)\n\n\n\n\n    35000-44999\n851 (9.4%)\n765 (9.1%)\n86 (12%)\n\n\n\n\n    45000-54999\n776 (8.6%)\n726 (8.7%)\n50 (7.2%)\n\n\n\n\n    55000-64999\n615 (6.8%)\n571 (6.8%)\n44 (6.3%)\n\n\n\n\n    65000-74999\n521 (5.7%)\n476 (5.7%)\n45 (6.5%)\n\n\n\n\n    75000-99999\n1,066 (12%)\n999 (12%)\n67 (9.6%)\n\n\n\n\n    more 99999\n2,200 (24%)\n2,094 (25%)\n106 (15%)\n\n\n\n\n    Unknown\n795\n731\n64\n\n\n\n\nEmployment status\n\n\n\n\n\n\n&lt;0.001\n\n\n    Looking\n311 (4.0%)\n288 (4.1%)\n23 (3.1%)\n\n\n\n\n    NotWorking\n2,845 (37%)\n2,418 (34%)\n427 (57%)\n\n\n\n\n    Working\n4,613 (59%)\n4,319 (61%)\n294 (40%)\n\n\n\n\n    Unknown\n2,089\n2,073\n16\n\n\n\n\n\n1 n (%); Mean (SD)\n\n\n2 Pearson’s Chi-squared test; Wilcoxon rank sum test\n\n\n\n\n\n\n\n\n\n\nCustomize the table’s appearance\n\nMove the total column to the far-right end of the table for improved readability.\nRemove the ‘N = xxxx’ from the header to streamline the table’s appearance.\nAdd a “Total (denominator)” row at the top of the table for better context and clarity.\nAvoid decimal places for both numbers and percentages for a cleaner presentation.\nInclude additional summary statistics for continuous variables, such as mean (SD), median (IQR), and range, to provide a more comprehensive summary.\nCustomize the footnotes\n\n\ndata %&gt;%\n    # Remove missing data in the Diabetes variable for simplicity\n    filter(!is.na(Diabetes)) %&gt;%\n    # Format the Diabates variable\n    mutate(Diabetes = case_when(Diabetes == \"Yes\" ~ \"With Diabetes\",\n                                Diabetes == \"No\" ~ \"Without Diabtes\"),\n           Diabetes = factor(Diabetes, levels=c(\"With Diabetes\", \"Without Diabtes\"))) %&gt;%\n    # Add total number \n    mutate(total = TRUE) %&gt;%\n    # Select relevant variables\n    select(total, Gender, Age, AgeDecade, Race1, BMI_WHO, Education, MaritalStatus, HHIncome, Work, Diabetes) %&gt;%\n    # Create a summary table by Diabetes group\n    tbl_summary(\n        by = Diabetes, \n        type = all_continuous() ~ \"continuous2\",\n        statistic = list(\n            # Include additional summary statistics for continuous variables\n            all_continuous() ~ c(\"{mean}, ({sd})\",\n                                 \"{median}, ({p25}, {p75})\",\n                                 \"{min}, {max}\"), \n            all_categorical() ~ \"{n} ({p}%)\"\n        ),\n        label = list(\n          total = \"Total (column denominator)\",\n          AgeDecade = \"Age group\",\n          Race1 = \"Ethnicity\",\n          BMI_WHO = \"BMI group\",\n          HHIncome = \"Household income\",\n          Work = \"Employment status\"\n        ),\n        missing = \"no\",\n        # Remove decimal placeds for all number and percentage\n        digits = list(all_continuous() ~ c(0,0),\n                      all_categorical() ~ c(0,0))\n    ) %&gt;%\n    # Add total column\n    add_overall() %&gt;%\n    # Move the total column to the far end of the table \n    modify_table_body(~.x %&gt;%\n                        dplyr::relocate(stat_0, .after=stat_2) %&gt;%\n                        # change label name \n                        dplyr::mutate(label = ifelse(label==\"Median, (Q1, Q3)\", \"Median, (IQR)\", label)) %&gt;%\n                        dplyr::mutate(label = ifelse(label==\"Min, Max\", \"Range\",label))\n    ) %&gt;%\n    # modify the header\n    modify_header(\n      update = list(all_stat_cols(TRUE) ~ \"**{level}**\",\n                   label = \"\",\n                   stat_0 = \"**Total**\",\n                   stat_1 = \"**{level}**\",\n                   stat_2 = \"**{level}**\")\n    )%&gt;%\n    # Test for differences between groups\n    add_p() %&gt;%  \n    bold_labels() %&gt;%\n    # Modify footnotes\n    modify_footnote(\n      c(all_stat_cols()) ~ NA\n    ) %&gt;%\n    # Add more footnotes\n    modify_table_styling(\n      columns = label,\n      row = label == list(\"Gender\"),\n      footnote = \"This is a sample footnote 1.\"\n    ) %&gt;%\n    modify_table_styling(\n      columns = label,\n      row = label == list(\"Age\"),\n      footnote = \"This is a sample footnote 2.\"\n    ) %&gt;%\n    as_gt() %&gt;%\n    gt::tab_header(\n    title = md(\"**Table 1: Sociodemographic Characteristics of Patients With and Without Diabetes in the Demo Dataset.**\")) %&gt;%\n    # Don't want footnotes to be in multi lines\n    tab_options(footnotes.multiline = FALSE)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 1: Sociodemographic Characteristics of Patients With and Without Diabetes in the Demo Dataset.\n\n\n\nWith Diabetes\nWithout Diabtes\nTotal\np-value1\n\n\n\n\nTotal (column denominator)\n760 (100%)\n9,098 (100%)\n9,858 (100%)\n\n\n\n\nGender2\n\n\n\n\n\n\n0.064\n\n\n    female\n357 (47%)\n4,592 (50%)\n4,949 (50%)\n\n\n\n\n    male\n403 (53%)\n4,506 (50%)\n4,909 (50%)\n\n\n\n\nAge3\n\n\n\n\n\n\n&lt;0.001\n\n\n    Mean, (SD)\n59, (15)\n35, (22)\n37, (22)\n\n\n\n\n    Median, (IQR)\n61, (51, 70)\n34, (17, 52)\n37, (18, 54)\n\n\n\n\n    Range\n11, 80\n1, 80\n1, 80\n\n\n\n\nAge group\n\n\n\n\n\n\n&lt;0.001\n\n\n     0-9\n0 (0%)\n1,254 (14%)\n1,254 (13%)\n\n\n\n\n     10-19\n17 (2%)\n1,354 (15%)\n1,371 (14%)\n\n\n\n\n     20-29\n12 (2%)\n1,344 (15%)\n1,356 (14%)\n\n\n\n\n     30-39\n43 (6%)\n1,295 (15%)\n1,338 (14%)\n\n\n\n\n     40-49\n96 (14%)\n1,302 (15%)\n1,398 (15%)\n\n\n\n\n     50-59\n178 (26%)\n1,126 (13%)\n1,304 (14%)\n\n\n\n\n     60-69\n204 (30%)\n713 (8%)\n917 (10%)\n\n\n\n\n     70+\n140 (20%)\n447 (5%)\n587 (6%)\n\n\n\n\nEthnicity\n\n\n\n\n\n\n&lt;0.001\n\n\n    Black\n131 (17%)\n1,053 (12%)\n1,184 (12%)\n\n\n\n\n    Hispanic\n47 (6%)\n555 (6%)\n602 (6%)\n\n\n\n\n    Mexican\n66 (9%)\n925 (10%)\n991 (10%)\n\n\n\n\n    White\n450 (59%)\n5,840 (64%)\n6,290 (64%)\n\n\n\n\n    Other\n66 (9%)\n725 (8%)\n791 (8%)\n\n\n\n\nBMI group\n\n\n\n\n\n\n&lt;0.001\n\n\n    12.0_18.5\n3 (0%)\n1,274 (14%)\n1,277 (13%)\n\n\n\n\n    18.5_to_24.9\n111 (15%)\n2,797 (32%)\n2,908 (30%)\n\n\n\n\n    25.0_to_29.9\n203 (27%)\n2,461 (28%)\n2,664 (28%)\n\n\n\n\n    30.0_plus\n428 (57%)\n2,321 (26%)\n2,749 (29%)\n\n\n\n\nEducation\n\n\n\n\n\n\n&lt;0.001\n\n\n    8th Grade\n100 (13%)\n351 (5%)\n451 (6%)\n\n\n\n\n    9 - 11th Grade\n105 (14%)\n781 (12%)\n886 (12%)\n\n\n\n\n    High School\n165 (22%)\n1,352 (21%)\n1,517 (21%)\n\n\n\n\n    Some College\n228 (31%)\n2,039 (31%)\n2,267 (31%)\n\n\n\n\n    College Grad\n144 (19%)\n1,954 (30%)\n2,098 (29%)\n\n\n\n\nMaritalStatus\n\n\n\n\n\n\n&lt;0.001\n\n\n    Divorced\n100 (13%)\n605 (9%)\n705 (10%)\n\n\n\n\n    LivePartner\n29 (4%)\n531 (8%)\n560 (8%)\n\n\n\n\n    Married\n426 (57%)\n3,519 (54%)\n3,945 (55%)\n\n\n\n\n    NeverMarried\n67 (9%)\n1,313 (20%)\n1,380 (19%)\n\n\n\n\n    Separated\n24 (3%)\n159 (2%)\n183 (3%)\n\n\n\n\n    Widowed\n95 (13%)\n361 (6%)\n456 (6%)\n\n\n\n\nHousehold income\n\n\n\n\n\n\n&lt;0.001\n\n\n     0-4999\n13 (2%)\n169 (2%)\n182 (2%)\n\n\n\n\n     5000-9999\n27 (4%)\n223 (3%)\n250 (3%)\n\n\n\n\n    10000-14999\n65 (9%)\n472 (6%)\n537 (6%)\n\n\n\n\n    15000-19999\n54 (8%)\n461 (6%)\n515 (6%)\n\n\n\n\n    20000-24999\n59 (8%)\n546 (7%)\n605 (7%)\n\n\n\n\n    25000-34999\n80 (11%)\n865 (10%)\n945 (10%)\n\n\n\n\n    35000-44999\n86 (12%)\n765 (9%)\n851 (9%)\n\n\n\n\n    45000-54999\n50 (7%)\n726 (9%)\n776 (9%)\n\n\n\n\n    55000-64999\n44 (6%)\n571 (7%)\n615 (7%)\n\n\n\n\n    65000-74999\n45 (6%)\n476 (6%)\n521 (6%)\n\n\n\n\n    75000-99999\n67 (10%)\n999 (12%)\n1,066 (12%)\n\n\n\n\n    more 99999\n106 (15%)\n2,094 (25%)\n2,200 (24%)\n\n\n\n\nEmployment status\n\n\n\n\n\n\n&lt;0.001\n\n\n    Looking\n23 (3%)\n288 (4%)\n311 (4%)\n\n\n\n\n    NotWorking\n427 (57%)\n2,418 (34%)\n2,845 (37%)\n\n\n\n\n    Working\n294 (40%)\n4,319 (61%)\n4,613 (59%)\n\n\n\n\n\n\n1 Pearson’s Chi-squared test; Wilcoxon rank sum test 2 This is a sample footnote 1. 3 This is a sample footnote 2."
  }
]